<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#24AFD0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8">  <meta name="built-on" content="2024-01-12T02:01:54.97006259"><meta name="build-number" content="${buildNumber}">       <title>开发指南 | OpenWear Wiki</title><script id="virtual-toc-data" type="application/json">[{"id":"intro","level":0,"title":"前言","anchor":"#intro"},{"id":"preparing","level":0,"title":"准备工作","anchor":"#preparing"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="开发指南 | OpenWear Wiki"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="OpenWear Wiki Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="https://www.projcora.com/vela-developer-guide.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="开发指南 | OpenWear Wiki"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "https://www.projcora.com/vela-developer-guide.html#webpage", "url": "https://www.projcora.com/vela-developer-guide.html", "name": "开发指南 | OpenWear Wiki", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "https://www.projcora.com/#website", "url": "https://www.projcora.com/", "name": "OpenWear Wiki Help" }</script><!-- End Schema.org --></head>      <body data-id="Vela-Developer-Guide" data-main-title="开发指南" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="专题///XiaomiHyperOS-Quickapp.topic|Xiaomi HyperOS 快应用"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>OpenWear Wiki  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Vela-Developer-Guide"   id="Vela-Developer-Guide.topic">开发指南</h1>  <section class="chapter"><h2 id="intro" data-toc="intro"   >前言</h2><p id="5b8f47b3_1">Xiaomi HyperOS快应用(Xiaomi Vela快应用)是一种基于NuttX系统之上、运行于小米智能穿戴设备上的应用.其开发以前端技术(HTML+JS+CSS)为主.</p><p id="5b8f47b3_2">同时, 页面UI、应用路由等与Vue类似.如果你使用过Vue框架, 那么HyperOS快应用开发对于你来说不会很难.</p></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="preparing" data-toc="preparing"   >准备工作</h2></div><div class="collapse__content"><section class="chapter"><h3 id="system-requires" data-toc="system-requires"   >系统要求</h3><div class="table-wrapper"><table class="wide" id="5b8f47b3_3"><thead><tr class="ijRowHead" id="5b8f47b3_4"><th id="5b8f47b3_5"><p>项目</p></th><th id="5b8f47b3_6"><p>内容</p></th></tr></thead><tbody><tr id="5b8f47b3_7"><td id="5b8f47b3_8"><p>操作系统</p></td><td id="5b8f47b3_9"><p>Ubuntu 20.04LTS(WSL, 虚拟机, 实体机均可.Windows, macOS暂不支持)</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="environment-installing" data-toc="environment-installing"   >环境安装</h3><section class="chapter"><h4 id="official-guide" data-toc="official-guide"   >方案1.根据官方方法汇总</h4><section class="chapter"><h5 id="requires" data-toc="requires"   >安装依赖</h5><div class="code-block" data-lang="bash"         >
                        # Ubuntu重定位到清华的镜像源，提高下载速度
                        sudo sed -i'.bak' 's,/[a-z]*.ubuntu.com,/mirrors.tuna.tsinghua.edu.cn,' /etc/apt/sources.list

                        sudo dpkg --add-architecture i386
                        sudo apt-get -y update
                        sudo apt-get -y install autoconf automake bison build-essential dfu-util genromfs flex git gperf
                        sudo apt-get -y install libncurses5 lib32ncurses5-dev libc6-dev-i386 libx11-dev libx11-dev:i386 libxext-dev
                        sudo apt-get -y install libxext-dev:i386 net-tools pkgconf unionfs-fuse zlib1g-dev

                        # Ubuntu20.04安装gcc-11需要添加源
                        sudo apt-get -y install software-properties-common
                        sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
                        sudo apt-get update &amp;&amp; sudo apt-get -y upgrade

                        # 切换国内源安装速度比较快
                        sudo sed -i &quot;s/http:\/\/ppa.launchpad.net/https:\/\/launchpad.proxy.ustclug.org/g&quot; /etc/apt/sources.list.d/*.list
                        sudo apt-get update &amp;&amp; sudo apt-get -y upgrade
                        sudo apt-get install -y gcc-11 g++-11 g++-11-multilib

                        sudo apt-get -y install kconfig-frontends
                        sudo apt-get -y install libpulse-dev:i386
                        sudo apt-get -y install libasound2-dev:i386
                        sudo apt-get -y install libasound2-plugins:i386
                        sudo apt-get -y install libusb-1.0-0-dev
                        sudo apt-get -y install libusb-1.0-0-dev:i386
                        sudo apt-get -y install libmad0-dev:i386
                        sudo apt-get -y install libv4l-dev libv4l-dev:i386
                        sudo apt-get -y install libuv1-dev
                        sudo apt-get -y install libmp3lame-dev:i386 libmad0-dev:i386 libv4l-dev:i386

                        sudo apt-get -y install xxd
                        sudo apt-get -y install qemu-system-arm qemu-efi-aarch64 qemu-utils
                        sudo apt-get -y install nasm yasm
                        sudo apt-get -y install libdivsufsort-dev
                        sudo apt-get -y install libc++-dev libc++abi-dev
                        sudo apt-get install -y libprotobuf-dev protobuf-compiler protobuf-c-compiler
                        sudo apt-get -y install gcc-multilib g++-multilib
                    </div><aside class="prompt" data-type="note" data-title="" id="5b8f47b3_11"><p>将其写入一个.sh文件进行安装会更加方便.同时也可以运行以下命令(确保您的系统内有curl) <code class="code" id="5b8f47b3_12">curl -o- https://mirror.ghproxy.com/https://raw.githubusercontent.com/PieTech-WS/DevelaIDE/docker/install.sh | sudo bash</code></p></aside></section><section class="chapter"><h5 id="node.js-config" data-toc="node.js-config"   >安装nvm与Node.js并配置</h5><aside class="prompt" data-type="note" data-title="" id="5b8f47b3_13"><p>你可以参考nvm官方的方法进行安装, 此处对官方的安装方法有所改进.</p></aside><aside class="prompt" data-type="tip" data-title="" id="5b8f47b3_14"><p>此处的nvm安装脚本仅仅是加入了对GHPROXY的支持, 不属于CTWS.APA.</p></aside><p id="5b8f47b3_15">运行以下命令安装nvm:</p><div class="code-block" data-lang="bash"         >
                        curl -o- https://mirror.ghproxy.com/https://raw.githubusercontent.com/PieTech-WS/DevelaIDE/docker/nvm_install.sh | sudo bash
                    </div><p id="5b8f47b3_17">安装后运行以下命令以安装Node.JS 18.0.0(运行前, 最好使用source命令应用.bashrc或.zshrc)</p><div class="code-block" data-lang="bash"         >
                        nvm install 18.0.0
                    </div><p id="5b8f47b3_19">并使用以下命令对npm进行配置</p><div class="code-block" data-lang="bash"         >
                        npm config set registry https://registry.npmmirror.com
                        npm config set sharp_binary_host &quot;https://npmmirror.com/mirrors/sharp&quot;
                        npm config set sharp_libvips_binary_host &quot;https://npmmirror.com/mirrors/sharp-libvips&quot;
                    </div></section><section class="chapter"><h5 id="install-ide" data-toc="install-ide"   >安装aiot-ide并配置</h5><aside class="prompt" data-type="tip" data-title="" id="5b8f47b3_21"><p>无需在官方那里下载安装包安装</p></aside><div class="code-block" data-lang="bash"         >
                        sudo apt install aiot-ide
                    </div><p id="5b8f47b3_23">即可</p><aside class="prompt" data-type="warning" data-title="" id="5b8f47b3_24"><p>由于最新的AIoT-ide的插件存在问题, 需要在安装后进行降级.</p></aside><p id="5b8f47b3_25">在aiot-ide的插件页面, 对 <span class="control" id="5b8f47b3_26">aiot-ide-banner(降级至v1.0.16)</span> 以及 <span class="control" id="5b8f47b3_27">aiot-ide-project(降级至v1.0.3)</span> 进行降级.</p><p id="5b8f47b3_28">示例:</p><figure  id="5b8f47b3_29"><a href="oww.projcora.club/vela-dev-guide-1.png" class="lightbox"><img alt="vela-dev-guide-1.png" src="oww.projcora.club/vela-dev-guide-1.png" title="vela-dev-guide-1.png"  width="1891" height="881"></a></figure><figure  id="5b8f47b3_30"><a href="oww.projcora.club/vela-dev-guide-2.png" class="lightbox"><img alt="vela-dev-guide-2.png" src="oww.projcora.club/vela-dev-guide-2.png" title="vela-dev-guide-2.png"  width="1143" height="826"></a></figure><p id="5b8f47b3_31">重新启动aiot-ide后, 你就可以在 <span class="menupath" id="5b8f47b3_32">文件 | 新建项目 | Vela</span> 中创建项目啦(中文自行解决嗷, 和VSCode方法一模一样)</p><p id="5b8f47b3_33">如果您是WSL, 那么为了方便(不踩坑), 你也可以在这里下载项目模板, 直接在模板上修改代码开始开发.</p><p id="5b8f47b3_34"><a href="https://tlyhb-my.sharepoint.com/:u:/g/personal/2minrain_poweratom_onmicrosoft_com/EZ0n9zg45oRIm5lVEUpKY4YBrWX9Bx4cPf8gqfpIXdnuwA?e=vExrkb" id="5b8f47b3_35"   data-external="true" rel="noopener noreferrer" >下载模板</a></p></section></section><section class="chapter"><h4 id="develaos" data-toc="develaos"   >方案2.直接使用DevelaOS</h4><p>安装请查看 <a href="https://www.projcora.club/DevelaIDE/how-to-install.html" id="5b8f47b3_36"   data-external="true" rel="noopener noreferrer" >DevelaOS官方文档</a></p><aside class="prompt" data-type="tip" data-title="" id="5b8f47b3_37"><p>你需要先在 <a href="https://afdian.net/a/2minrain" id="5b8f47b3_38"   data-external="true" rel="noopener noreferrer" >爱发电</a> 获取Q群号并加入(无需捐赠)</p></aside></section></section></div></div></section><div class="last-modified"> Last modified: 11 一月 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="xiaomihyperos-quickapp.html">Xiaomi HyperOS 快应用</a>   <a class="navigation-links__next" href="mibandmana.html">米环管理</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>